(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{336:function(e,a,t){"use strict";function n(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}t.d(a,"a",function(){return n})},347:function(e,a,t){"use strict";t.d(a,"a",function(){return r});var n=t(336);function r(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(a){Object(n.a)(e,a,t[a])})}return e}},958:function(e,a,t){"use strict";t.r(a);var n=t(14),r=t.n(n),c=t(336),o=t(347),l=t(31),i=t(103),m=t(104),s=t(106),u=t(105),d=t(107),f=t(43),h=t(1),p=t.n(h),E=t(331),v=t(4),g=(t(367),t(368)),b=t.n(g),C=(t(369),t(351)),x=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).getOptionsSelect=function(){var e=Object(l.a)(r.a.mark(function e(a,n,l){var i,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.service(n).find({});case 2:i=e.sent,m=[],i.data.map(function(e){m.push(l(e))}),t.setState({optionsSelect:Object(o.a)({},t.state.optionsSelect,Object(c.a)({},a,m))});case 6:case"end":return e.stop()}},e,this)}));return function(a,t,n){return e.apply(this,arguments)}}(),t.onChange=function(e,a){var n=b.a.set(t.state.formData,e,a);t.setState({formData:n})},t.onAdd=function(){var e=Object(l.a)(r.a.mark(function e(a){var n,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(f.a)(Object(f.a)(t)),!t.form.reportValidity()){e.next=14;break}if("form"!=t.state.id){e.next=10;break}return e.next=5,v.a.service("clients").create(n.state.formData);case 5:c=e.sent,console.log("clientResult",c),void 0!=c._id&&(window.location.href="/#/clientes"),e.next=14;break;case 10:return e.next=12,v.a.service("clients").patch(n.state.id,n.state.formData);case 12:void 0!=e.sent._id&&(window.location.href="/#/clientes");case 14:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.onSend=function(){var e=Object(l.a)(r.a.mark(function e(a){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Object(f.a)(Object(f.a)(t)),console.log("Enviando...");case 2:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.onAddOption=function(){var e=b.a.push(t.state,"formData.contactos",{});t.setState(e)},t.removeOption=function(e){return function(){var a=b.a.del(t.state.formData,["contactos",e]);t.setState({formData:a})}},t.state={id:e.match.params.id,data:[],total:0,formData:{nombre:"",telefono:"",email:"",tipoUsuario:"",actaConstitutiva:"",direccionFactura:{rfc:"",calle:"",numeroInterior:"",numeroExterior:"",colonia:"",cp:"",ciudad:"",estado:"",pais:""},carga:"",generador:"",tipo:"",contactos:[{nombre:"",telefono:"",email:""}]},openSuccess:!1,tipoUsuarios:[],paises:[],estados:[],ciudades:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=Object(l.a)(r.a.mark(function e(){var a,t,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id",this.state.id),a=this,e.next=4,v.a.service("types").find({});case 4:if(t=e.sent,console.log("Tipos:",t),t=t.data.map(function(e){return{value:e._id,label:e.nombre}}),"form"==this.state.id){e.next=14;break}return e.next=10,v.a.service("clients").find({query:{_id:a.state.id}});case 10:n=e.sent,this.setState({formData:{nombre:n.data[0].nombre,telefono:n.data[0].telefono,email:n.data[0].email,tipoUsuario:n.data[0].tipoUsuario,actaConstitutiva:n.data[0].actaConstitutiva,direccionFactura:{rfc:n.data[0].direccionFactura.rfc,calle:n.data[0].direccionFactura.calle,numeroInterior:n.data[0].direccionFactura.numeroInterior,numeroExterior:n.data[0].direccionFactura.numeroExterior,colonia:n.data[0].direccionFactura.colonia,cp:n.data[0].direccionFactura.cp,ciudad:n.data[0].direccionFactura.ciudad,estado:n.data[0].direccionFactura.estado,pais:n.data[0].direccionFactura.pais},carga:n.data[0].carga,generador:n.data[0].generador,tipo:n.data[0].tipo,contactos:n.data[0].contactos},tipoUsuarios:t}),e.next=15;break;case 14:this.setState({tipoUsuarios:t});case 15:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.formData,n=(a.openSuccess,a.tipoUsuarios),r=a.paises,c=a.estados,o=a.ciudades,l=function(e){return n.find(function(a){return a.value===e})};return p.a.createElement("div",{className:"animated fadeIn"},p.a.createElement("form",{ref:function(a){return e.form=a},className:"form-horizontal"},p.a.createElement(E.I,null,p.a.createElement(E.n,{col:"12",sm:"12",md:"12"},p.a.createElement(E.e,{onClick:this.onAdd,color:"success",className:"btn-square pull-right"},p.a.createElement("i",{className:"fa fa-save"})," Guardar"))),p.a.createElement("br",null),p.a.createElement(E.I,null,p.a.createElement(E.n,{xs:"12",lg:"5"},p.a.createElement(E.h,null,p.a.createElement(E.l,null,"Alta de Clientes",p.a.createElement("div",{className:"card-header-actions"},p.a.createElement("i",{className:"fa fa-download"}),p.a.createElement("a",{href:"http://ipco.com",className:"card-header-action"},p.a.createElement("small",{className:"text-muted"},"Activo")))),p.a.createElement(E.i,null,p.a.createElement("h4",null,"Informaci\xf3n General"),p.a.createElement("br",null),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Nombre"),p.a.createElement(E.t,{type:"text",id:"nombre",name:"nombre",value:t.nombre,onChange:function(a){return e.onChange("nombre",a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"Nombre completo de la empresa")),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Tel\xe9fono"),p.a.createElement(E.t,{type:"text",id:"telefono",value:t.telefono,onChange:function(a){return e.onChange("telefono",a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"+52 123 456 7890")),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Correo"),p.a.createElement(E.t,{type:"text",id:"email",value:t.email,onChange:function(a){return e.onChange("email",a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"ejemplo@ipco.com")),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Acta Constitutiva"),p.a.createElement(E.t,{type:"file",id:"actaConstitutiva",value:t.actaConstitutiva,onChange:function(a){return e.onChange("actaConstitutiva",a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"Es necesario subir el documento")),p.a.createElement("hr",null),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Tipo de cliente"),p.a.createElement(C.a,{placeholder:"-- Seleccionar",name:"tipoUsuario",value:l(t.tipoUsuario),options:n,onChange:function(a){return e.onChange("tipoUsuario",a.value)}}),p.a.createElement(E.s,{className:"help-block"},"Seleccione el tipo de cliente"))))),p.a.createElement(E.n,{xs:"12",lg:"7"},p.a.createElement(E.h,null,p.a.createElement(E.l,null,"Informaci\xf3n F\xedscal",p.a.createElement("div",{className:"card-header-actions"},p.a.createElement("i",{className:"fa fa-list"}),p.a.createElement("a",{href:"http://ipco.com",className:"card-header-action"},p.a.createElement("small",{className:"text-muted"},"Listado")))),p.a.createElement(E.i,null,p.a.createElement(E.I,null,p.a.createElement(E.n,{md:6},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"RFC"),p.a.createElement(E.t,{type:"text",id:"rfc",value:t.direccionFactura.rfc,onChange:function(a){return e.onChange(["direccionFactura","rfc"],a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"Ingrese un RFC valido"))),p.a.createElement(E.n,{md:6}),p.a.createElement(E.n,{md:6},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Pais"),p.a.createElement(C.a,{placeholder:"-- Seleccione Pais",name:"pais",value:l(t.direccionFactura.pais),options:r,onChange:function(a){return e.onChange(["direccionFactura","pais"],a.value)}}),p.a.createElement(E.s,{className:"help-block"},"Campo obligatorio")),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Estado"),p.a.createElement(C.a,{placeholder:"-- Seleccionar Estado",value:l(t.direccionFactura.estado),options:c,onChange:function(a){return e.onChange(["direccionFactura","estado"],a.value)}}),p.a.createElement(E.s,{className:"help-block"},"Campo obligatorio"))),p.a.createElement(E.n,{md:6},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Ciudad"),p.a.createElement(C.a,{placeholder:"-- Seleccionar Ciudad",value:l(t.direccionFactura.ciudad),options:o,onChange:function(a){return e.onChange(["direccionFactura","ciudad"],a.value)}}),p.a.createElement(E.s,{className:"help-block"},"Campo obligatorio")),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Colonia"),p.a.createElement(E.t,{type:"text",id:"colonia",value:t.direccionFactura.colonia,onChange:function(a){return e.onChange(["direccionFactura","colonia"],a.target.value)}}))),p.a.createElement(E.n,{md:6},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Calle"),p.a.createElement(E.t,{type:"text",id:"calle",value:t.direccionFactura.calle,onChange:function(a){return e.onChange(["direccionFactura","calle"],a.target.value)}})),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"C\xf3digo Postal"),p.a.createElement(E.t,{type:"text",id:"cp",value:t.direccionFactura.cp,onChange:function(a){return e.onChange(["direccionFactura","cp"],a.target.value)}}))),p.a.createElement(E.n,{md:6},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"No Exterior"),p.a.createElement(E.t,{type:"text",id:"numeroExterior",value:t.direccionFactura.numeroExterior,onChange:function(a){return e.onChange(["direccionFactura","numeroExterior"],a.target.value)}})),p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"No Interior"),p.a.createElement(E.t,{type:"text",id:"numeroInterior",value:t.direccionFactura.numeroInterior,onChange:function(a){return e.onChange(["direccionFactura","numeroInterior"],a.target.value)}})))))),p.a.createElement(E.h,null,p.a.createElement(E.l,null,"Contactos",p.a.createElement("div",{className:"card-header-actions"},p.a.createElement("i",{className:"fa fa-list"}),p.a.createElement("a",{href:"http://ipco.com",className:"card-header-action"},p.a.createElement("small",{className:"text-muted"},"Listado")))),p.a.createElement(E.i,null,t.contactos.map(function(a,n){return p.a.createElement(E.I,{key:n+2},p.a.createElement(E.n,{md:3},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Nombre"),p.a.createElement(E.t,{type:"text",id:"nombre",name:"nombre",value:t.contactos[n].nombre,onChange:function(a){return e.onChange(["contactos",n,"nombre"],a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"Nombre Completo *Obligatorio"))),p.a.createElement(E.n,{md:3},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Correo"),p.a.createElement(E.t,{type:"text",id:"email",name:"email",value:t.contactos[n].email,onChange:function(a){return e.onChange(["contactos",n,"email"],a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"Correo electronico *Obligatorio"))),p.a.createElement(E.n,{md:3},p.a.createElement(E.r,null,p.a.createElement(E.x,{htmlFor:"hf-email"},"Telefono"),p.a.createElement(E.t,{type:"text",id:"telefono",name:"telefono",value:t.contactos[n].telefono,onChange:function(a){return e.onChange(["contactos",n,"telefono"],a.target.value)}}),p.a.createElement(E.s,{className:"help-block"},"+52 123 456 7890"))),t.contactos.length>n&&p.a.createElement(E.n,{md:1},p.a.createElement("label",{htmlFor:"addContacto"},"\xa0"),p.a.createElement("div",{className:"form-group"},p.a.createElement(E.e,{bsStyle:"danger",onClick:e.removeOption(n)},"-"))),t.contactos.length-1==n&&p.a.createElement(E.n,{md:1},p.a.createElement("label",{htmlFor:"addContacto"},"\xa0"),p.a.createElement("div",{className:"form-group"},p.a.createElement(E.e,{bsStyle:"primary",onClick:e.onAddOption},"+"))))})))))))}}]),a}(h.Component);a.default=x}}]);
//# sourceMappingURL=19.059053d2.chunk.js.map