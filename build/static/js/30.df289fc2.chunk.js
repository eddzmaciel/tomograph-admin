(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{963:function(e,t,a){"use strict";a.r(t);var n=a(14),i=a.n(n),s=a(31),r=a(103),c=a(104),o=a(106),l=a(105),u=a(107),m=a(43),d=a(1),h=a.n(d),f=a(331),v=a(4),b=a(367),p=a.n(b),E=a(368),N=a.n(E),x=(a(369),a(351)),D=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).getOptionsSelect=function(){var e=Object(s.a)(i.a.mark(function e(t,n,s){var r,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get(n);case 2:r=e.sent,c=[],r.data.map(function(e){c.push(s(e))}),a.setState({distributionDivisions:c});case 6:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.onChange=function(e,t){var n=N.a.set(a.state.formData,e,t);a.setState({formData:n})},a.onAdd=function(){var e=Object(s.a)(i.a.mark(function e(t){var n,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(m.a)(Object(m.a)(a)),!a.form.reportValidity()){e.next=14;break}if("form"!=a.state.id){e.next=10;break}return e.next=5,v.a.service("distribution-division").create(n.state.formData);case 5:s=e.sent,console.log("tfResult",s),void 0!=s._id&&(window.location.href="/#/division-distribucion"),e.next=14;break;case 10:return e.next=12,v.a.service("distribution-division").patch(n.state.id,n.state.formData);case 12:void 0!=e.sent._id&&(window.location.href="/#/division-distribucion");case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.state={id:e.match.params.id,data:[],total:0,formData:{distributionDivision:"",technicalLoss:"",technicalNoLoss:""},distributionDivisions:[],openSuccess:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=Object(s.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("id",this.state.id),t=this,"form"==this.state.id){e.next=7;break}return e.next=5,v.a.service("distribution-division").find({query:{_id:t.state.id}});case 5:a=e.sent,this.setState({formData:{distributionDivision:a.data[0].distributionDivision,technicalLoss:a.data[0].technicalLoss,technicalNoLoss:a.data[0].technicalNoLoss}});case 7:this.getOptionsSelect("distributionDivisions","http://mem.remoideas.mx/api/areas/",function(e){return{label:e.nombre,value:e.nombre}});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.state,n=a.formData,i=(a.openSuccess,a.distributionDivisions);return h.a.createElement("div",{className:"animated fadeIn"},h.a.createElement("form",{ref:function(e){return t.form=e},className:"form-horizontal"},h.a.createElement(f.I,null,h.a.createElement(f.n,{col:"12",sm:"12",md:"12"},h.a.createElement(f.e,{onClick:this.onAdd,color:"success",className:"btn-square pull-right"},h.a.createElement("i",{className:"fa fa-save"})," Guardar"))),h.a.createElement("br",null),h.a.createElement(f.I,null,h.a.createElement(f.n,{xs:"12",lg:{size:6,offset:3}},h.a.createElement(f.h,null,h.a.createElement(f.l,null,"Alta",h.a.createElement("div",{className:"card-header-actions"},h.a.createElement("i",{className:"fa fa-download"}),h.a.createElement("a",{href:"http://ipco.com",className:"card-header-action"},h.a.createElement("small",{className:"text-muted"},"Activo")))),h.a.createElement(f.i,null,h.a.createElement("h4",null,"Divisi\xf3n de Distribuci\xf3n"),h.a.createElement("br",null),h.a.createElement(f.r,null,h.a.createElement(f.x,{htmlFor:"hf-technicalLoss"},"Nombre"),h.a.createElement(x.a,{placeholder:"-- Seleccione divisi\xf3n de distribuci\xf3n",name:"distributionDivision",value:(e=n.distributionDivision,i.find(function(t){return t.value===e})),options:i,onChange:function(e){return t.onChange("distributionDivision",e.value)}}),h.a.createElement(f.s,{className:"help-block"})),h.a.createElement("hr",null),h.a.createElement(f.r,null,h.a.createElement(f.x,{htmlFor:"hf-technicalLoss"},"Perdidas T\xe9cnicas"),h.a.createElement(f.t,{type:"text",id:"technicalLoss",name:"technicalLoss",value:n.technicalLoss,onChange:function(e){return t.onChange("technicalLoss",e.target.value)}}),h.a.createElement(f.s,{className:"help-block"})),h.a.createElement(f.r,null,h.a.createElement(f.x,{htmlFor:"hf-technicalNoLoss"},"Perdidas No T\xe9cnicas"),h.a.createElement(f.t,{type:"text",id:"technicalNoLoss",value:n.technicalNoLoss,onChange:function(e){return t.onChange("technicalNoLoss",e.target.value)}}),h.a.createElement(f.s,{className:"help-block"}))))))))}}]),t}(d.Component);t.default=D}}]);
//# sourceMappingURL=30.df289fc2.chunk.js.map